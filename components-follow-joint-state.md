:x
----------------------------------------------------------------

Задатчик получает `sensor_msg::JointState` от высшего уровня и передает его агрегатору. 
Возможно сглаживание движений. Основной вариант использования --- управление роботом при помощи 
`joint_state_publisher`. 

### Входные порты


1. `sync` (`TimerEvent`, EventPort) --- синхронизация таймера.

1. `joints_sorted` (`JointState`) --- состояние робота в угловой СК (желаемое от агрегатора или реальное по датчикам), сообщение отсортировано по кинематическим цепочкам.

1. `ref_joints` (`JointState`) --- входной порт для желаемой позы от верхнего уровня, произвольный порядок звеньев.

### Выходные порты

1. `ref_joints` (`JointState`) --- задающее воздействие в угловой системе координат.

1. `ref_support` (`SupportState`) --- ожидаемое распределение веса, всегда ноль для управляемой конечности.

### Параметры

1. `controlled_chains` (`strings`) --- набор ресурсов, управляемых компонентом.

Возможны параметры настройки системы сопряжения траекторий.

### Операции

1. Предоставляет: `bool setControlledChains(strings res)` --- изменить список контроллируемых цепочек после конфигурации, возвращает true при успехе.

ROS-совместимые:
1. Предоставляет: `rosSetOperational` (`std_srv::SetBool`/`sweetie_bot_resource_control_msg::SetOperational`) --- управление компонентом из ROS. 
1. Предоставляет: `rosSetControlledChains()` --- изменить список контроллируемых цепочек после конфигурации, возвращает true при успехе.

### Сервисы 

2. Требует: сервис `robot_model`.
2. Требует: сервис сглаживания траекторий (опционально).

### Семантика исполнения

**Выбор управляемых звеньев**: в режиме "запущен" изменить состав звеньев трудно, публикация позы прекращается, пока нет подтверждения от арбитра.

**Исполнение**: выбрать из `in_ref_joints` управляемые звенья, осуществить совмещение с `in_joints_sorted` (добавить недостающие, осуществить сглаживание), передать позу дальше.

### Детали реализации

По списку ресурсов удобно составить `map`, позволяющую быстро по имени находить положение сустава в `joints_sorted` и `out_ref_joints`.

### Ошибки и исключения

Ошибки:
1. Несуществующий ресурс.
2. Неполный `joints_sorted`.

